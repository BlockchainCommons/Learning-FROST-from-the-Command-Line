
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://learningfrost.blockchaincommons.com/03_1_Creating_FROST_Secret_Shares_with_DKG_Using_CLI/">
      
      
        <link rel="prev" href="../03_0_Advanced_FROST/">
      
      
        <link rel="next" href="../03_2_Creating_FROST_Secret_Shares_with_DKG_Using_Server/">
      
      
        
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>3.1: Creating FROST Secret Shares with DKG Using CLI - Learning FROST from the Command Line</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.484c7ddc.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#31-creating-frost-secret-shares-with-dkg-using-cli" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Learning FROST from the Command Line" class="md-header__button md-logo" aria-label="Learning FROST from the Command Line" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m20.79 13.95-2.33.62-2-1.13v-2.88l2-1.13 2.33.62.52-1.93-1.77-.47.46-1.77-1.93-.52-.62 2.33-2 1.13L13 7.38V5.12l1.71-1.71L13.29 2 12 3.29 10.71 2 9.29 3.41 11 5.12v2.26L8.5 8.82l-2-1.13-.58-2.33L4 5.88l.47 1.77-1.77.47.52 1.93 2.33-.62 2 1.13v2.89l-2 1.13-2.33-.62-.52 1.93 1.77.47L4 18.12l1.93.52.62-2.33 2-1.13L11 16.62v2.26l-1.71 1.71L10.71 22 12 20.71 13.29 22l1.41-1.41-1.7-1.71v-2.26l2.5-1.45 2 1.13.62 2.33 1.88-.51-.47-1.77 1.77-.47zM9.5 10.56 12 9.11l2.5 1.45v2.88L12 14.89l-2.5-1.45z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Learning FROST from the Command Line
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              3.1: Creating FROST Secret Shares with DKG Using CLI
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/BlockchainCommons/Learning-FROST-from-the-Command-Line" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Learning FROST from the Command Line" class="md-nav__button md-logo" aria-label="Learning FROST from the Command Line" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m20.79 13.95-2.33.62-2-1.13v-2.88l2-1.13 2.33.62.52-1.93-1.77-.47.46-1.77-1.93-.52-.62 2.33-2 1.13L13 7.38V5.12l1.71-1.71L13.29 2 12 3.29 10.71 2 9.29 3.41 11 5.12v2.26L8.5 8.82l-2-1.13-.58-2.33L4 5.88l.47 1.77-1.77.47.52 1.93 2.33-.62 2 1.13v2.89l-2 1.13-2.33-.62-.52 1.93 1.77.47L4 18.12l1.93.52.62-2.33 2-1.13L11 16.62v2.26l-1.71 1.71L10.71 22 12 20.71 13.29 22l1.41-1.41-1.7-1.71v-2.26l2.5-1.45 2 1.13.62 2.33 1.88-.51-.47-1.77 1.77-.47zM9.5 10.56 12 9.11l2.5 1.45v2.88L12 14.89l-2.5-1.45z"/></svg>

    </a>
    Learning FROST from the Command Line
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/BlockchainCommons/Learning-FROST-from-the-Command-Line" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../01_0_Introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter One: Introduction to FROST
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../01_1_Introducing_FROST/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    1.1: Introducing FROST
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../01_2_FROST_Signature_Process/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    1.2: The FROST Signature Process
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../01_3_FROST_vs_MuSig/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    1.3: FROST vs MuSig2
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../02_0_Signing_with_FROST/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter Two: Signing with FROST
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../02_1_Installing_FROST_Tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2.1: Installing the FROST Tools
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../02_2_Creating_FROST_Secret_Shares_with_TDG/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2.2: Creating FROST Secret Shares with TDG
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../02_3_Creating_FROST_Signature/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2.3: Creating a FROST Signature
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../02_4_Checking_FROST_Signature/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2.4: Checking FROST Signatures
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../03_0_Advanced_FROST/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter Three: Advanced FROST Capabilities
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    3.1: Creating FROST Secret Shares with DKG Using CLI
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    3.1: Creating FROST Secret Shares with DKG Using CLI
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#creating-dkg-shares-the-hard-way" class="md-nav__link">
    <span class="md-ellipsis">
      
        Creating DKG Shares the Hard Way
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#signing-with-dkg-shares" class="md-nav__link">
    <span class="md-ellipsis">
      
        Signing with DKG Shares
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#verifying-with-dkg-shares" class="md-nav__link">
    <span class="md-ellipsis">
      
        Verifying with DKG Shares
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary-creating-frost-secret-shares-with-dkg-using-cli" class="md-nav__link">
    <span class="md-ellipsis">
      
        Summary: Creating FROST Secret Shares with DKG Using CLI
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whats-next" class="md-nav__link">
    <span class="md-ellipsis">
      
        What's Next
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../03_2_Creating_FROST_Secret_Shares_with_DKG_Using_Server/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    3.2: Creating FROST Secret Shares with DKG Using Server
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../03_3_ZF_FROST_in_a_Nutshell/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    3.3 ZF FROST in a Nutshell
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../03_4_Refreshing_FROST_Shares/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    3.4: Resharing Shares
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../04_0_FROST_and_Bitcoin/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Chapter Four: FROST and Bitcoin
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../04_1_Installing_Bitcoin_Tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    4.1: Installing Bitcoin Tools
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../04_2_Signing_PSBTs_with_FROST/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    4.2: Signing PSBTs with FROST
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#creating-dkg-shares-the-hard-way" class="md-nav__link">
    <span class="md-ellipsis">
      
        Creating DKG Shares the Hard Way
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#signing-with-dkg-shares" class="md-nav__link">
    <span class="md-ellipsis">
      
        Signing with DKG Shares
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#verifying-with-dkg-shares" class="md-nav__link">
    <span class="md-ellipsis">
      
        Verifying with DKG Shares
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary-creating-frost-secret-shares-with-dkg-using-cli" class="md-nav__link">
    <span class="md-ellipsis">
      
        Summary: Creating FROST Secret Shares with DKG Using CLI
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#whats-next" class="md-nav__link">
    <span class="md-ellipsis">
      
        What's Next
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="31-creating-frost-secret-shares-with-dkg-using-cli">3.1: Creating FROST Secret Shares with DKG Using CLI</h1>
<p><a href="../02_2_Creating_FROST_Secret_Shares_with_TDG/">§2.2: Creating FROST Secret Shares with
TDG</a> overviewed the
simplest way to create FROST shares, using Trusted Dealer
Generation. However, the full power of FROST comes with the use of
Distributed Key Generation (DKG). With this methodology, the combined
signing key never exists in a single place: not when you're creating
the signing shares, and not when you're using them.</p>
<h2 id="creating-dkg-shares-the-hard-way">Creating DKG Shares the Hard Way</h2>
<p>Creating secret shares with a Trusted Dealer is relatively simple: a
single server creates a secret, it shards it, and it sends those
shares out to the participants.</p>
<p>Creating secret shares with Distributed Key Generation is more
difficult because you have to engage in the two-round ceremony
described in <a href="../01_2_FROST_Signature_Process/">§1.2: The FROST Signature
Process</a>, first broadcasting
commitments to all participants, then sending to each
individually. Each member needs to both send and receive "n" messages
(1 broadcast message and "n-1" individual messages), where "n" is the
number of participants. This can be very logistically tiresome and
prone to error if a user has to do it all themself.</p>
<blockquote>
<p>:book: <strong><em>What is DKG?</em></strong> In Distributed Key Generation, multiple
servers work together. At the end of the ceremony, each server will
hold its own secret share without the original secret having been
instantiated at any point.</p>
<p>:book: <strong><em>Why is DKG Better than TDG?</em></strong> DKG is considerably more
secure than TDG. With Trusted Dealer Generation, you have to trust the
trusted dealer (hence the name!). You have to trust not just that
they're not going to steal your secret, but also that they're secure
(so that someone else can't steal the secret), that their network is
secure, and that they will properly (and securely!) delete the secret
after it's sharded and distributed. None of this trust is required for
DKG! Because the secret never exists in one place, the <em>only</em> way to
compromise it is to steal multiple shares (assuming the threshold is
larger than 1), and that should be difficult because the shares should
be securely stored on multiple sites.</p>
<p>:book: <strong><em>How Do the ZF FROST Tools Support DKG?</em></strong> ZF FROST offers
two methods for generating DKG shares. One uses the <code>dkg</code> CLI to
generate shares, but requires the participants to do the exchange of
commitments themselves. The other uses the <code>server</code> app, which takes
some effort to setup, but which takes the logistical burden from the
user. The CLI method is described in this section, the server-based
functionality in the <a href="../03_2_Creating_FROST_Secret_Shares_with_DKG_Using_Server/">next
section</a>..</p>
</blockquote>
<p>This section demonstrates how to create DKG shares using the <code>dkg</code> CLI
that you already installed as part of the ZF FROST <code>frost-client</code>
package. It requires you to take care of all of the logistical
exchange of information.</p>
<p>To start with, each participant will run <code>dkg</code> from the command line
of their own machine, entering in the threshold and signing number
(which must match across all participants) and their own identifer
(which must be unique for each participant:</p>
<pre><code>% dkg
The minimum number of signers: (2 or more)
2
The maximum number of signers:
3
Your identifier (this should be an integer between 1 and 65535):
1
</code></pre>
<p>This example demonstrates Alice's console, but Bob is doing the same
(with identifier <code>2</code>) as is Eve (with identifier <code>3</code>).</p>
<p>Each user will then be given a hex string version of their identifier
and a broadcast commitment that they must send to all the other
participants.</p>
<p>Here's what that looks like for Alice:</p>
<pre><code>=== ROUND 1: SEND PACKAGES ===

Round 1 Package to send to all other participants (your identifier: &quot;0100000000000000000000000000000000000000000000000000000000000000&quot;):

{&quot;header&quot;:{&quot;version&quot;:0,&quot;ciphersuite&quot;:&quot;FROST-ED25519-SHA512-v1&quot;},&quot;commitment&quot;:[&quot;f6b7158d8140d5503a2a4c46d6d3e7bfb52f132362a1464156ae553b0846fe7d&quot;,&quot;6e929c2076cb52266ff05e5406512881d098ff5666a85fc51487842be05076d5&quot;],&quot;proof_of_knowledge&quot;:&quot;0624a9059dda9eb17a0ddad6a035eba27e951512495efb155f9fc4d9fddbcdf077ece4768ae32cecc6df9f98461a0d6a7f6a6a0ac26eb76ce814fe5dc820a70d&quot;}
</code></pre>
<p>Alice should send her packets out, but she should also receive
packages from Bob and Eve. For each package that she receives, she
enters the identifier of the sender as well as the package into her
own <code>dkg</code> console:</p>
<pre><code>=== ROUND 1: RECEIVE PACKAGES ===

Input Round 1 Packages from the other 2 participants.

The sender's identifier (hex string):
0200000000000000000000000000000000000000000000000000000000000000
Their JSON-encoded Round 1 Package:
{&quot;header&quot;:{&quot;version&quot;:0,&quot;ciphersuite&quot;:&quot;FROST-ED25519-SHA512-v1&quot;},&quot;commitment&quot;:[&quot;272617337510d27c1d82792c2168b002770eb14fe3dd807a2571ce40099c3e14&quot;,&quot;09e8de0f722ff2b61be60ba6858e4c673386a23669b9f88c611dd3a8478a1f9e&quot;],&quot;proof_of_knowledge&quot;:&quot;793f45332587cbd8419fd0e72e5ecf45084aef3bdb4d868355bb106d1b7224f7e399869a99f66fdb1a7c53b30c3870c9a64b340ec35cffaba22879835a994507&quot;}

The sender's identifier (hex string):
0300000000000000000000000000000000000000000000000000000000000000
Their JSON-encoded Round 1 Package:
{&quot;header&quot;:{&quot;version&quot;:0,&quot;ciphersuite&quot;:&quot;FROST-ED25519-SHA512-v1&quot;},&quot;commitment&quot;:[&quot;95817e076aeb2c4de3d506719da927c2cc99bd793f32d4bdf18795468b7e296b&quot;,&quot;679b7ae4066cceba11c790e1493e15614ea4eabe54ab0ae4ba6b6f14d7668d2a&quot;],&quot;proof_of_knowledge&quot;:&quot;d0313c8ced787cfecccfba375a4b8a7142d82ec7102dbbd842e7443e647c290113422400464e363c5dfb9097a54919978714634341d50909e83a51954bac5c0d&quot;}
</code></pre>
<p>When a participant has entered all of the packages from the other
participants, they'll be shown their round 2 packets, which must be
sent individually and securely to each participant:</p>
<pre><code>=== ROUND 2: SEND PACKAGES ===

Round 2 Package to send to participant &quot;0200000000000000000000000000000000000000000000000000000000000000&quot; (your identifier: &quot;0100000000000000000000000000000000000000000000000000000000000000&quot;):

{&quot;header&quot;:{&quot;version&quot;:0,&quot;ciphersuite&quot;:&quot;FROST-ED25519-SHA512-v1&quot;},&quot;signing_share&quot;:&quot;36c4a4c744d69fba78516fb6cddf03d618ef77ac0a97de1e343d67b9f7eda00a&quot;}

Round 2 Package to send to participant &quot;0300000000000000000000000000000000000000000000000000000000000000&quot; (your identifier: &quot;0100000000000000000000000000000000000000000000000000000000000000&quot;):

{&quot;header&quot;:{&quot;version&quot;:0,&quot;ciphersuite&quot;:&quot;FROST-ED25519-SHA512-v1&quot;},&quot;signing_share&quot;:&quot;62746f98a7626ffed4bf767ad971c655529ac6410b2e312970c7de8931b99c0d&quot;}
</code></pre>
<p>They also will receive packages from each participant, which they must
again enter alongside the identifier for the other participant:</p>
<pre><code>=== ROUND 2: RECEIVE PACKAGES ===

Input Round 2 Packages from the other 2 participants.

The sender's identifier (hex string):
0200000000000000000000000000000000000000000000000000000000000000
Their JSON-encoded Round 2 Package:
{&quot;header&quot;:{&quot;version&quot;:0,&quot;ciphersuite&quot;:&quot;FROST-ED25519-SHA512-v1&quot;},&quot;signing_share&quot;:&quot;3c18c0d51bffe439728569b2f3f2906a669458197ec0cbe1dc609b42e56d740b&quot;}

The sender's identifier (hex string):
0300000000000000000000000000000000000000000000000000000000000000
Their JSON-encoded Round 2 Package:
{&quot;header&quot;:{&quot;version&quot;:0,&quot;ciphersuite&quot;:&quot;FROST-ED25519-SHA512-v1&quot;},&quot;signing_share&quot;:&quot;eca669a661c61dacf0a4b148eb37bfc02ca939b7905ea90513eeec30abd48700&quot;}
</code></pre>
<p>As soon as a participant has entered all of the packages from the
other users (and even before those other users necessarily finish the
process), they'll be given their share of the signing key as well as
the public key package:</p>
<pre><code>=== DKG FINISHED ===
Participant key package:

{&quot;header&quot;:{&quot;version&quot;:0,&quot;ciphersuite&quot;:&quot;FROST-ED25519-SHA512-v1&quot;},&quot;identifier&quot;:&quot;0100000000000000000000000000000000000000000000000000000000000000&quot;,&quot;signing_share&quot;:&quot;45ff0d1645acc004a9708b4ac27eb26c7281bbe7181f01fce701785c4e65a103&quot;,&quot;verifying_share&quot;:&quot;32bb144163d32dd166ab7534ee53a01fc6eac5dba9f2057ed2b38a842762cb9f&quot;,&quot;verifying_key&quot;:&quot;67b2d1d24ed2f2cb78ffefe6699c4114e479f95621d5ab2720687dcf593bdcfe&quot;,&quot;min_signers&quot;:2}

Participant public key package:

{&quot;header&quot;:{&quot;version&quot;:0,&quot;ciphersuite&quot;:&quot;FROST-ED25519-SHA512-v1&quot;},&quot;verifying_shares&quot;:{&quot;0100000000000000000000000000000000000000000000000000000000000000&quot;:&quot;32bb144163d32dd166ab7534ee53a01fc6eac5dba9f2057ed2b38a842762cb9f&quot;,&quot;0200000000000000000000000000000000000000000000000000000000000000&quot;:&quot;1ae2f34429c0cf7b7757c2f537eada432e8573f06f7258f9510a013ff926159f&quot;,&quot;0300000000000000000000000000000000000000000000000000000000000000&quot;:&quot;5276b15b25f29f7dd42e47cf5272f320e8a4d5ed9f27943d240dc29259c22985&quot;},&quot;verifying_key&quot;:&quot;67b2d1d24ed2f2cb78ffefe6699c4114e479f95621d5ab2720687dcf593bdcfe&quot;}
</code></pre>
<p>This information must be saved to files. The "Participant key package"
contains the secret info and should be protected accordingly. In these
examples it's stored as <code>key-package-#.json</code>. The "Participant public
key package" is the public info, including the verifying key, which
doesn't need to be secured. It should be stored as
<code>public-key-package.json</code>.</p>
<p>Whew!</p>
<p>You can follow along with this tutorial simply by running <code>dkg</code> in
three different windows (even on the same machine, though that
wouldn't be the case in a real-world deployment) and exchanging
information among them. It's a great hands-on example of how the
exchange detailed in <a href="../01_2_FROST_Signature_Process/">§1.2</a> works,
but it also demonstrates how cumbersome the exchanges are for a user,
especially as the number of partipants increase. If you make a single
mistake, entering in the wrong participant or the wrong package at any
point, the entire process will fail, and you'll only know at the end!</p>
<p>That's why engineers need to design better processes that automate the
exchanges of the two rounds, which is exactly what happens when using
ZF FROST's server-based method of DKG creation, in
<a href="../03_2_Creating_FROST_Secret_Shares_with_DKG_Using_Server/">§3.2</a>.</p>
<h2 id="signing-with-dkg-shares">Signing with DKG Shares</h2>
<p>If you saved all the data to files and named them appropriately, you
can now sign with your DKG shares using the same process you used for
signing with the TDG shares in <a href="../02_3_Creating_FROST_Signature/">§2.3: Creating a FROST
Signature</a>.</p>
<p>On the server:</p>
<pre><code>% coordinator -m board-meeting-250917.txt -s board-meeting-250917.sig -n 2
</code></pre>
<p>On Alice's machine:</p>
<pre><code>% participant -k key-package-1.json
</code></pre>
<p>On Bob's machine:</p>
<pre><code>% participant -k key-package-2.json
</code></pre>
<p>The result should be just as before. Here's what the <code>coordinator</code>'s console shows:</p>
<pre><code>Received: {&quot;IdentifiedCommitments&quot;:{&quot;identifier&quot;:&quot;0100000000000000000000000000000000000000000000000000000000000000&quot;,&quot;commitments&quot;:{&quot;header&quot;:{&quot;version&quot;:0,&quot;ciphersuite&quot;:&quot;FROST-ED25519-SHA512-v1&quot;},&quot;hiding&quot;:&quot;a2e21b5a1963c011e2a1d9229ebcfccfc55d38f65347de2aa24852d154565476&quot;,&quot;binding&quot;:&quot;f0258062753269bbecac60c49b4b6e7ed1c13b567ce603cc2919375c611e7055&quot;}}}
Received: {&quot;IdentifiedCommitments&quot;:{&quot;identifier&quot;:&quot;0200000000000000000000000000000000000000000000000000000000000000&quot;,&quot;commitments&quot;:{&quot;header&quot;:{&quot;version&quot;:0,&quot;ciphersuite&quot;:&quot;FROST-ED25519-SHA512-v1&quot;},&quot;hiding&quot;:&quot;db16d12c421c6779ed2bf059a4f15794b86d35f70a549b02981817602b55ffe5&quot;,&quot;binding&quot;:&quot;90b477e71ab324183286d57397b19988d5aa186f61a70fbe088b9a3e62796544&quot;}}}
Sending SigningPackage to participants...
Waiting for participants to send their SignatureShares...
Received: {&quot;SignatureShare&quot;:{&quot;header&quot;:{&quot;version&quot;:0,&quot;ciphersuite&quot;:&quot;FROST-ED25519-SHA512-v1&quot;},&quot;share&quot;:&quot;7769b727b2d2cb4b34ea9c89fb05a14448ff925603fbd4dd34e76fea043ddf06&quot;}}
Client disconnected
Received: {&quot;SignatureShare&quot;:{&quot;header&quot;:{&quot;version&quot;:0,&quot;ciphersuite&quot;:&quot;FROST-ED25519-SHA512-v1&quot;},&quot;share&quot;:&quot;01460dba3c43ae9e481523568a95ac7cd6a2c2676ef23c673d3ce7b11574d00a&quot;}}
Raw signature written to board-meeting-250917.sig
</code></pre>
<h2 id="verifying-with-dkg-shares">Verifying with DKG Shares</h2>
<p>Because the files created by <code>dkg</code> are just like those created with
<code>trusted-dealer</code>, you can verify in exactly the same way, as described
in <a href="../02_4_Checking_FROST_Signature/">§2.4</a>.</p>
<h2 id="summary-creating-frost-secret-shares-with-dkg-using-cli">Summary: Creating FROST Secret Shares with DKG Using CLI</h2>
<p>Creating shares with Distributed Key Generation (DKG) can take some
work because it's a two-round process where each of <code>n</code> participants
need to send <code>n</code> messages, resulting in <code>n^2</code> total
communications. That's somewhat unwieldly for three participants and
totally unmanageable for many more. Nonethless, walking through it
once is a great example of the how the DKG process works.</p>
<h2 id="whats-next">What's Next</h2>
<p>For a more user-friendly example of DKG, see <a href="../03_2_Creating_FROST_Secret_Shares_with_DKG_Using_Server/">§3.2: Creating FROST
Secret Shares with DKG Using
Server</a>.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "..", "features": [], "search": "../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>